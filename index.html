<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Prashanta â€” Fullâ€‘stack Web & Mobile Developer</title>

  <!-- Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

  <meta name="theme-color" content="#071024">

  <style>
    :root{
      --bg:#071024;
      --muted:#9aa6bf;
      --text:#e6eef8;
      --accent-red:#ff3b3b;
      --accent-2:#06b6d4;
      --max-width:1200px;
      --ease:cubic-bezier(.2,.9,.3,1);
    }

    /* Reset & basics */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
    a{color:inherit}
    button{font-family:inherit}

    /* Top-left clickable name (now scroll-to-top, accessible) */
    .top-left-name{
      position:fixed;left:18px;top:14px;z-index:220;cursor:pointer;
      display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;
      background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.03);
      transition:transform .18s var(--ease), box-shadow .18s var(--ease);
      box-shadow:0 8px 30px rgba(2,6,23,0.45);
    }
    .top-left-name:focus{outline:3px solid rgba(255,59,59,0.18);outline-offset:3px}
    .top-left-name:hover{transform:translateY(-4px);box-shadow:0 18px 50px rgba(2,6,23,0.6)}
    .top-left-name .name{
      font-weight:900;font-size:20px;color:var(--accent-red);letter-spacing:.02em;
      display:inline-block;transform-origin:center;
      animation: pulse 3.6s ease-in-out infinite;
    }
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.04)}100%{transform:scale(1)}}
    .top-left-name .small{font-size:12px;color:var(--muted);font-weight:700;margin-left:4px}

    /* Container + hero card */
    .container{max-width:var(--max-width);margin:0 auto;padding:28px;position:relative;z-index:40}
    main.hero{min-height:75vh;padding-top:72px;display:flex;align-items:flex-start;justify-content:center}
    .hero-card{
      width:100%;max-width:980px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04);border-radius:14px;padding:36px;box-shadow:0 12px 50px rgba(2,6,23,0.55);
      position:relative;overflow:hidden;
    }

    .hero-top{display:flex;gap:24px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap}
    .hero-left{flex:1;min-width:260px}
    .tagline{font-size:13px;color:var(--muted);font-weight:700;letter-spacing:.06em}
    .hero-left h1{margin:8px 0 6px;font-size:clamp(28px,6vw,56px);line-height:1;font-weight:900}
    .rotator{color:var(--accent-2);font-weight:800;font-size:20px;min-height:28px}
    .hero-left p{color:var(--muted);margin:12px 0 0 0;max-width:64ch}

    .hero-right{min-width:220px;display:flex;flex-direction:column;gap:12px;align-items:flex-end}
    .cta{background:linear-gradient(90deg,var(--accent-red),#ff6b6b);color:white;padding:12px 16px;border-radius:12px;border:0;font-weight:900;cursor:pointer}
    .small-muted{color:var(--muted);font-weight:700;font-size:13px;text-align:right}

    .social-row{display:flex;gap:12px;align-items:center;margin-top:14px}
    .social-btn{width:46px;height:46px;border-radius:10px;background:rgba(255,255,255,0.02);display:flex;align-items:center;justify-content:center;color:var(--muted);text-decoration:none;border:1px solid rgba(255,255,255,0.03);transition:transform .18s}
    .social-btn:hover{transform:translateY(-4px);color:var(--text);background:rgba(255,255,255,0.04)}

    .cta-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:18px}
    @media(max-width:880px){.cta-grid{grid-template-columns:1fr}}
    .service-card{padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)}

    .form-wrap{margin-top:22px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .form-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    @media(max-width:880px){.form-grid{grid-template-columns:1fr}}
    label{display:block;font-weight:700;margin-bottom:6px;color:var(--muted)}
    input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text);outline:none;font-weight:600}
    textarea{min-height:120px;resize:vertical}
    .form-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:12px}

    .toast{position:fixed;right:20px;bottom:20px;padding:12px 16px;border-radius:10px;background:linear-gradient(90deg,var(--accent-red),#ff6b6b);color:#fff;z-index:260;opacity:0;transform:translateY(8px);transition:all .28s var(--ease)}

    .chat-toggle{position:fixed;right:20px;bottom:90px;width:56px;height:56px;border-radius:999px;background:linear-gradient(90deg,var(--accent-2),#7c3aed);display:flex;align-items:center;justify-content:center;color:white;z-index:260;cursor:pointer;box-shadow:0 12px 30px rgba(0,0,0,0.6)}
    .chat-panel{position:fixed;right:20px;bottom:160px;width:360px;max-width:92vw;border-radius:12px;background:linear-gradient(180deg,#071426 0%, #071024 100%);border:1px solid rgba(255,255,255,0.03);box-shadow:0 18px 48px rgba(0,0,0,0.6);z-index:260;padding:12px;display:none;flex-direction:column;gap:8px}
    .chat-panel.open{display:flex}
    .chat-messages{max-height:320px;overflow:auto;padding:8px;display:flex;flex-direction:column;gap:8px}
    .msg{padding:10px;border-radius:10px;max-width:80%;font-weight:600}
    .msg.user{align-self:flex-end;background:linear-gradient(90deg,#0b1220,#132033);color:var(--text)}
    .msg.bot{align-self:flex-start;background:linear-gradient(90deg,#081434,#0b1b32);color:var(--muted)}
    .chat-input{display:flex;gap:8px}
    .chat-input input{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)}

    /* Background image layers: optimized responsive & progressive loading */
    .bg-cobra{position:fixed;inset:0;z-index:6;pointer-events:none;overflow:visible}
    .bg-layer{position:absolute;left:50%;transform:translateX(-50%);will-change:transform,opacity,filter;mix-blend-mode:screen}
    .bg-layer img{display:block;width:100%;height:auto;max-width:2200px;object-fit:cover}
    /* layer sizes & visual treatment */
    .bg-layer.layer1{top:18%;width:160%;opacity:0.08;filter:blur(2px) contrast(.95) saturate(.65);animation:parallax1 34s linear infinite}
    .bg-layer.layer2{top:42%;width:140%;opacity:0.06;filter:blur(4px) contrast(.9) saturate(.5);animation:parallax2 48s linear infinite}
    .bg-layer.layer3{top:64%;width:120%;opacity:0.04;filter:blur(6px) contrast(.85) saturate(.45);animation:parallax3 22s linear infinite}

    @keyframes parallax1{0%{transform:translateX(-48%) translateY(-2%)}50%{transform:translateX(-44%) translateY(0%)}100%{transform:translateX(-48%) translateY(-2%)}}
    @keyframes parallax2{0%{transform:translateX(-52%) translateY(-1%)}50%{transform:translateX(-46%) translateY(0%)}100%{transform:translateX(-52%) translateY(-1%)}}
    @keyframes parallax3{0%{transform:translateX(-50%) translateY(-3%)}50%{transform:translateX(-42%) translateY(0%)}100%{transform:translateX(-50%) translateY(-3%)}}

    /* respect user motion preferences */
    @media (prefers-reduced-motion: reduce){
      .bg-layer, .bg-layer img, .top-left-name .name{animation: none !important; transition: none !important}
    }

    @media (max-width:640px){
      .top-left-name{left:10px;top:10px;padding:6px 10px}
      .hero-left h1{font-size:28px}
      .bg-layer{display:none} /* hide heavy backgrounds on small screens */
    }

    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <!--
    Advanced background setup:
    - Please ensure the following files are present in your repo under the assets/ folder:
      assets/cobra-600.webp
      assets/cobra-1200.webp
      assets/cobra-2000.webp

    - The code below uses these webp files and lazy-loads them for fast first paint.
  -->

  <div class="bg-cobra" aria-hidden="true" id="bgCobra">
    <div class="bg-layer layer1" data-depth="0.12">
      <picture>
        <source type="image/webp" srcset="assets/cobra-600.webp 600w, assets/cobra-1200.webp 1200w, assets/cobra-2000.webp 2000w" sizes="(max-width:600px) 600px, (max-width:1200px) 1200px, 2000px">
        <img data-src="assets/cobra-1200.webp" alt="" class="bg-img lazy" loading="lazy" width="2000" height="600">
      </picture>
    </div>

    <div class="bg-layer layer2" data-depth="0.06">
      <picture>
        <source type="image/webp" srcset="assets/cobra-600.webp 600w, assets/cobra-1200.webp 1200w, assets/cobra-2000.webp 2000w" sizes="(max-width:600px) 600px, (max-width:1200px) 1200px, 2000px">
        <img data-src="assets/cobra-1200.webp" alt="" class="bg-img lazy" loading="lazy" width="2000" height="600">
      </picture>
    </div>

    <div class="bg-layer layer3" data-depth="0.02">
      <picture>
        <source type="image/webp" srcset="assets/cobra-600.webp 600w, assets/cobra-1200.webp 1200w, assets/cobra-2000.webp 2000w" sizes="(max-width:600px) 600px, (max-width:1200px) 1200px, 2000px">
        <img data-src="assets/cobra-1200.webp" alt="" class="bg-img lazy" loading="lazy" width="2000" height="600">
      </picture>
    </div>
  </div>

  <!-- Top-left clickable name (scroll to top) -->
  <button class="top-left-name" id="topNameBtn" aria-label="Go to top">
    <span class="name">Prashanta</span>
    <span class="small muted">Subedi</span>
  </button>

  <div class="container">
    <main class="hero" role="main" aria-labelledby="hero-heading">
      <section class="hero-card" aria-labelledby="hero-heading">
        <div class="hero-top">
          <div class="hero-left">
            <div class="tagline">HI, It's</div>
            <h1 id="hero-heading">PRASHANTA</h1>
            <div class="rotator" id="rotator" aria-live="polite">script writer</div>
            <p>I craft modern websites and mobile apps with attention to performance, accessibility and clean, maintainable code. I also enjoy product writing and UX-focused scripting.</p>

            <div class="social-row" aria-label="Social links">
              <a class="social-btn" href="https://github.com/Prashantasubedi" target="_blank" rel="noopener" aria-label="GitHub link">
                <!-- GitHub -->
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 .5C5.65.5.5 5.65.5 12c0 5.08 3.29 9.38 7.86 10.9.58.11.79-.25.79-.56 0-.28-.01-1.02-.02-2-3.2.7-3.88-1.55-3.88-1.55-.53-1.36-1.3-1.72-1.3-1.72-1.06-.72.08-.71.08-.71 1.17.08 1.79 1.2 1.79 1.2 1.04 1.78 2.73 1.27 3.4.97.11-.76.41-1.27.75-1.56-2.56-.29-5.26-1.28-5.26-5.7 0-1.26.45-2.29 1.19-3.1-.12-.29-.52-1.45.11-3.02 0 0 .97-.31 3.18 1.18.92-.26 1.9-.39 2.88-.39.98 0 1.96.13 2.88.39 2.21-1.5 3.18-1.18 3.18-1.18.63 1.57.23 2.73.11 3.02.74.81 1.19 1.84 1.19 3.1 0 4.43-2.71 5.41-5.29 5.68.42.36.79 1.08.79 2.17 0 1.57-.01 2.83-.01 3.21 0 .31.21.67.8.56C20.71 21.37 24 17.08 24 12 24 5.65 18.35.5 12 .5z"/></svg>
              </a>

              <a class="social-btn" href="https://www.linkedin.com/in/prashanta-subedi-57425a39a/" target="_blank" rel="noopener" aria-label="LinkedIn link">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M4.98 3.5C4.98 4.88 3.87 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1 4.98 2.12 4.98 3.5zM.5 8h4V24h-4V8zm7.5 0h3.84v2.18h.05c.54-1.02 1.86-2.09 3.83-2.09 4.1 0 4.85 2.7 4.85 6.21V24H19V17.2c0-1.61-.03-3.69-2.25-3.69-2.25 0-2.59 1.75-2.59 3.56V24H7.99V8z"/></svg>
              </a>

              <a class="social-btn" href="https://instagram.com/prashantasubedi2" target="_blank" rel="noopener" aria-label="Instagram link">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2.16c3.2 0 3.584.012 4.85.07 1.17.055 1.95.24 2.406.403a4.9 4.9 0 011.7 1.03c.49.49.83 1.09 1.03 1.7.165.456.35 1.236.404 2.406.058 1.266.07 1.65.07 4.85s-.012 3.584-.07 4.85c-.055 1.17-.24 1.95-.404 2.406a4.9 4.9 0 01-1.03 1.7 4.9 4.9 0 01-1.7 1.03c-.456.165-1.236.35-2.406.404-1.266.058-1.65.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.055-1.95-.24-2.406-.404a4.9 4.9 0 01-1.7-1.03 4.9 4.9 0 01-1.03-1.7c-.165-.456-.35-1.236-.404-2.406C2.172 15.584 2.16 15.2 2.16 12s.012-3.584.07-4.85c.055-1.17.24-1.95.404-2.406a4.9 4.9 0 011.03-1.7 4.9 4.9 0 011.7-1.03c.456-.165 1.236-.35 2.406-.404C8.416 2.172 8.8 2.16 12 2.16zm0 1.8c-3.157 0-3.526.012-4.773.069-1.03.052-1.588.23-1.96.383a3.12 3.12 0 00-1.13.737 3.12 3.12 0 00-.737 1.13c-.153.372-.33.93-.383 1.96-.057 1.247-.069 1.616-.069 4.773s.012 3.526.069 4.773c.052 1.03.23 1.588.383 1.96.173.441.403.82.737 1.13.31.334.689.564 1.13.737.372.153.93.33 1.96.383 1.247.057 1.616.069 4.773.069s3.526-.012 4.773-.069c1.03-.052 1.588-.23 1.96-.383a3.12 3.12 0 001.13-.737 3.12 3.12 0 00.737-1.13c.153-.372.33-.93.383-1.96.057-1.247.069-1.616.069-4.773s-.012-3.526-.069-4.773c-.052-1.03-.23-1.588-.383-1.96a3.12 3.12 0 00-.737-1.13 3.12 3.12 0 00-1.13-.737c-.372-.153-.93-.33-1.96-.383-1.247-.057-1.616-.069-4.773-.069zM12 6.84a5.16 5.16 0 100 10.32 5.16 5.16 0 000-10.32zm0 1.8a3.36 3.36 0 110 6.72 3.36 3.36 0 010-6.72zm5.1-1.98a1.2 1.2 0 11-2.4 0 1.2 1.2 0 012.4 0z"/></svg>
              </a>

              <a class="social-btn" href="mailto:prashantaasubedii@gmail.com" aria-label="Email link">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 13.065L0 5.25V19a2 2 0 002 2h20a2 2 0 002-2V5.25L12 13.065zM12 11L24 3H0l12 8z"/></svg>
              </a>
            </div>
          </div>

          <div class="hero-right">
            <div class="cta" onclick="scrollToForm()">GET Website / App</div>
            <div class="small-muted">Fast estimates â€¢ Fixed-price or hourly â€¢ NDA available</div>
          </div>
        </div>

        <div class="cta-grid" role="region" aria-label="Quick services">
          <div class="service-card"><strong>Website</strong><div class="muted">Responsive marketing & product sites</div></div>
          <div class="service-card"><strong>Mobile App</strong><div class="muted">React Native & native apps</div></div>
          <div class="service-card"><strong>Consulting</strong><div class="muted">MVPs, product and UX</div></div>
        </div>

        <div style="margin-top:16px;display:flex;justify-content:flex-end">
          <button class="see-more" onclick="scrollToForm()">Get a quote â†’</button>
        </div>
      </section>
    </main>

    <!-- contact form -->
    <section class="form-wrap" aria-labelledby="contact-title">
      <h2 id="contact-title">Request a Project</h2>
      <form id="projectForm" action="https://formspree.io/f/xovgolly" method="POST" novalidate>
        <div class="form-grid">
          <div>
            <label for="name">Full name</label>
            <input id="name" name="name" type="text" placeholder="Your name" required>
          </div>
          <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@company.com" required>
          </div>
          <div>
            <label for="company">Company (optional)</label>
            <input id="company" name="company" type="text" placeholder="Company or product name">
          </div>
          <div>
            <label for="phone">Phone (optional)</label>
            <input id="phone" name="phone" type="tel" placeholder="+977 ...">
          </div>
          <div>
            <label for="project_type">Project type</label>
            <select id="project_type" name="project_type" required>
              <option value="">Select</option>
              <option>Website</option>
              <option>Mobile App</option>
              <option>Both</option>
              <option>Other</option>
            </select>
          </div>
          <div>
            <label for="budget">Estimated budget</label>
            <input id="budget" name="budget" type="text" placeholder="e.g. $2k - $10k">
          </div>

          <div style="grid-column:1 / -1">
            <label for="message">Project brief & goals</label>
            <textarea id="message" name="message" placeholder="Describe the project, users and goals..." required></textarea>
          </div>

          <div style="grid-column:1 / -1;display:flex;justify-content:space-between;align-items:center;margin-top:6px;flex-wrap:wrap">
            <div class="muted">I'll reply within 48 hours â€” or email: <a href="mailto:prashantaasubedii@gmail.com" class="muted" style="text-decoration:underline">prashantaasubedii@gmail.com</a></div>
            <div class="form-actions">
              <button type="reset" class="btn btn-outline">Reset</button>
              <button type="submit" class="btn btn-primary">Send Request</button>
            </div>
          </div>
        </div>
      </form>
    </section>

  </div>

  <!-- Chat -->
  <div class="chat-toggle" id="chatToggle" title="Ask me anything" onclick="toggleChat()">ðŸ’¬</div>
  <div class="chat-panel" id="chatPanel" role="dialog" aria-label="Ask Prashanta anything">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong>Ask me anything</strong>
      <button onclick="toggleChat()" style="background:transparent;border:0;color:var(--muted);font-weight:800;cursor:pointer">âœ•</button>
    </div>
    <div class="chat-messages" id="chatMessages" aria-live="polite"></div>
    <div class="chat-input">
      <input id="chatInput" placeholder="Ask about pricing, timeline, tech stack..." />
      <button class="btn btn-primary" onclick="sendChat()">Send</button>
    </div>
    <small class="muted">Note: on-site assistant â€” use the form for detailed requests.</small>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite">Message sent â€” I will get back to you.</div>

  <script>
    /* ========== Image loading & progressive swap ==========
       - Uses data-src in <img> and loads actual images when visible.
       - Expects you to place optimized images at:
         assets/cobra-600.webp, assets/cobra-1200.webp, assets/cobra-2000.webp
       - If filenames differ, update the srcset/data-src values above.
    */
    (function lazyLoadBg(){
      if('IntersectionObserver' in window){
        const imgs = document.querySelectorAll('.bg-layer img.lazy');
        const io = new IntersectionObserver((entries, obs) => {
          entries.forEach(e => {
            if(e.isIntersecting){
              const img = e.target;
              const src = img.getAttribute('data-src');
              if(src){
                img.src = src;
                img.classList.remove('lazy');
              }
              obs.unobserve(img);
            }
          });
        }, {root: null, threshold: 0.01});
        imgs.forEach(i => io.observe(i));
      } else {
        // fallback: load immediately
        document.querySelectorAll('.bg-layer img.lazy').forEach(img => img.src = img.getAttribute('data-src'));
      }
    })();

    /* ========== Pointer parallax (mouse) for background layers ==========
       - Smooth, performant using requestAnimationFrame
       - Respects prefers-reduced-motion
    */
    (function bgParallax(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(prefersReduced) return;
      const bg = document.getElementById('bgCobra');
      if(!bg) return;
      const layers = Array.from(bg.querySelectorAll('.bg-layer'));
      let mouseX = 0, mouseY = 0, cx = 0, cy = 0, rafId;

      function onMove(e){
        // support touch/mouse
        const clientX = (e.touches ? e.touches[0].clientX : e.clientX);
        const clientY = (e.touches ? e.touches[0].clientY : e.clientY);
        mouseX = (clientX / window.innerWidth) - 0.5;
        mouseY = (clientY / window.innerHeight) - 0.5;
        if(!rafId) rafId = requestAnimationFrame(animate);
      }
      function animate(){
        cx += (mouseX - cx) * 0.08;
        cy += (mouseY - cy) * 0.08;
        layers.forEach((layer, i) => {
          const depth = parseFloat(layer.dataset.depth || 0.05) * (i + 1);
          const tx = cx * depth * 60; // horizontal translation
          const ty = cy * depth * 30; // vertical translation
          layer.style.transform = `translateX(calc(-50% + ${tx}px)) translateY(${ty}px)`;
        });
        rafId = null;
      }

      window.addEventListener('mousemove', onMove, {passive:true});
      window.addEventListener('touchmove', onMove, {passive:true});

      // subtle parallax on scroll for depth
      let lastScroll = window.scrollY;
      window.addEventListener('scroll', () => {
        if(prefersReduced) return;
        const s = window.scrollY;
        layers.forEach((layer, i) => {
          const depth = parseFloat(layer.dataset.depth || 0.05) * (i + 1);
          const offset = (s - lastScroll) * depth * 0.1;
          layer.style.transform = layer.style.transform ? layer.style.transform + ` translateY(${offset}px)` : `translateX(-50%) translateY(${offset}px)`;
        });
        lastScroll = s;
      }, {passive:true});
    })();

    /* ========== Rotator (hero) ==========
       Small fade/rotate implemented with intervals (polite, accessible)
    */
    (function(){
      const words = ['script writer','fullâ€‘stack developer','product thinker','app maker','UX-minded dev'];
      let i = 0;
      const el = document.getElementById('rotator');
      if(!el) return;
      function show(){
        el.style.opacity = 0;
        setTimeout(()=>{ el.textContent = words[i]; el.style.opacity = 1; i = (i+1) % words.length; }, 220);
      }
      show();
      setInterval(show, 2600);
    })();

    /* ========== Top-left button behavior: scroll-to-top (no reload) ==========
       More user-friendly than reload.
    */
    document.getElementById('topNameBtn').addEventListener('click', function(){
      this.animate([{transform:'scale(1)'},{transform:'scale(0.98)'},{transform:'scale(1)'}], {duration:220});
      window.scrollTo({top:0,behavior:'smooth'});
    });

    /* ========== Chat, Form, Toast (kept from previous implementation) ========== */
    window.toggleChat = function(){
      document.getElementById('chatPanel').classList.toggle('open');
    };
    window.sendChat = function(){
      const input = document.getElementById('chatInput'); const text = input.value && input.value.trim(); if(!text) return;
      appendMsg(text, 'user'); input.value = '';
      let reply = "Thanks â€” I'll reply by email. Use the form for full details.";
      const t = text.toLowerCase();
      if(t.includes('price')||t.includes('cost')) reply = "Websites start around $800, apps from $2k+. Exact quote after scope.";
      else if(t.includes('timeline')||t.includes('how long')) reply = "Small sites: 1â€“3 weeks. Apps: 6â€“12 weeks depending on scope.";
      else if(t.includes('stack')||t.includes('tech')) reply = "I use React, React Native, Node.js, TypeScript and Python when needed.";
      setTimeout(()=>appendMsg(reply,'bot'),700);
    };
    function appendMsg(text, who){ const c = document.getElementById('chatMessages'); const el = document.createElement('div'); el.className = 'msg ' + (who==='user'?'user':'bot'); el.textContent = text; c.appendChild(el); c.scrollTop = c.scrollHeight; }

    (function(){
      const form = document.getElementById('projectForm'), toast = document.getElementById('toast');
      if(!form) return;
      form.addEventListener('submit', async e => {
        e.preventDefault();
        const submitBtn = form.querySelector('button[type="submit"]');
        submitBtn.disabled = true; submitBtn.textContent = 'Sending...';
        const data = new FormData(form); data.append('_subject','Website request from portfolio');
        try{
          const res = await fetch(form.action, { method:'POST', body: data, headers: { 'Accept': 'application/json' }});
          if(res.ok){ showToast('Thanks! Your request was sent â€” I will reply soon.'); form.reset(); }
          else { showToast('Submission failed â€” please email prashantaasubedii@gmail.com'); }
        } catch(err){ showToast('Network error â€” try again or email prashantaasubedii@gmail.com'); }
        finally{ submitBtn.disabled = false; submitBtn.textContent = 'Send Request'; }
      });
      function showToast(msg){ toast.textContent = msg; toast.style.opacity = 1; toast.style.transform = 'translateY(0)'; setTimeout(()=>{ toast.style.opacity = 0; toast.style.transform = 'translateY(8px)'; },4200); }
    })();

    // accessibility: close chat on ESC
    document.addEventListener('keydown', e => { if(e.key === 'Escape') document.getElementById('chatPanel').classList.remove('open'); });

  </script>
</body>
</html>
